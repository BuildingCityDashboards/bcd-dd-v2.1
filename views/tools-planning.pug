extends layout

block append head
        link(rel='stylesheet', href='https://unpkg.com/leaflet@1.3.1/dist/leaflet.css')
        link(rel='stylesheet', href='/stylesheets/themes/health/marker_cluster_modified.css')
        link(rel='stylesheet', href='/stylesheets/tools/tools-planning.css')
        link(rel='stylesheet', href='/stylesheets/tools/dc-tools.css')        
        link(rel='stylesheet', href='/stylesheets/tools/slider-switch.css')
        link(rel='stylesheet', href='/stylesheets/nouislider.css')
        link(rel='stylesheet', href='/stylesheets/spin.css')

block navigation
    +navbar("navbar navbar-expand-lg navbar-dark bg-dark fixed-top","/","Dublin Dashboard","Tools")

block content
    .container
        header.header.mt-5.pt-2
        .row
            .col-md-12
                h1.header__h1 Planning Applications
                p.lead Explore planning applications for the four local authorities with 
                    |this tool. 
        .row.mt-1
            .col-md-2
                .label.m-1 Search for an application:
            .col-md-3
                <div class="input-group">
                <input type="text" class="form-control-sm ml-1 mr-1" id="app-number-search" placeholder="Enter application #" aria-describedby="basic-addon2">
                <div class="input-group-append  d-flex">
                    //- <button class="btn btn-bcd btn-sm w-100 m-1 " type="button" >Search</button>
                    <button class="btn btn-bcd btn-sm w-100 ml-1 mr-1" type="button" id="clear-search">Clear</button>                    
                </div>
                </div>
            #search-result-count.col-md-2  
                
            .col-md-5      
            
        .row.mt-1
            .col-md-2
                .label.m-1 Choose local authorities:
                    
            .col-md-5
              <div class="btn-group d-flex">  
                <button id="dcc-checkbox" type="checkbox" class="btn btn-bcd-toggle btn-sm w-100 ml-1 mr-1 active" value="Dublin City Council">Dublin City</button>
                <button id="dlr-checkbox" type="checkbox" class="btn btn-bcd-toggle btn-sm w-100 ml-1 mr-1 active" value="Dun Laoghaire Rathdown County Council">Dun Laoghaire/Rathdown</button>
                <button id="f-checkbox" type="checkbox" class="btn btn-bcd-toggle btn-sm w-100 ml-1 mr-1 active" value="Fingal County Council">Fingal</button>
                <button id="sdcc-checkbox" type="checkbox" class="btn btn-bcd-toggle btn-sm w-100 ml-1 mr-1 active" value="South Dublin County Council">South Dublin</button>
              </div>
                
            .col-md-5
            
        .row.mt-1
            .col-md-7
                #planning-map.m-1
            .col-md-4 
                .row
                    p 
                    strong Number of Applications Over Time
                    div#time-chart
                    p Drag on the chart to select a date range, click outside selection to reset
                .row
                    p 
                    strong Breakdown of Applications by Decision
                    div#decision-row-chart
                    p Click on/off a decision bar here to filter the data

            .col-md-1

block append scripts
    script(src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js")
    script(src="https://unpkg.com/leaflet.markercluster@1.3.0/dist/leaflet.markercluster.js")
    //script(src="http://code.jquery.com/jquery-2.1.0.min.js")       
    script(src="/lib/proj4.js" type="text/javascript")
    script(src="/lib/crossfilter.js" type="text/javascript")
    script(src="https://d3js.org/d3.v5.js" type="text/javascript")
    script(src="/lib/dc.js" type="text/javascript")
    //    script(src="/lib/underscore-min.js" type="text/javascript")
    //script(src="/lib/queue.js" type="text/javascript")
    script(src="https://cdn.jsdelivr.net/npm/lodash@4.17.10/lodash.min.js")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/11.1.0/nouislider.min.js")
    //    script(src="spin/dist/spin.min.js")
    //    script(src="leaflet.spin.min.js")
    script(src="/javascripts/tools/planning.js" type="text/javascript")  
