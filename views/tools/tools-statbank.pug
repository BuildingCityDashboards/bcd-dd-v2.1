extends layout

block append head
        //- link(rel='stylesheet', href='https://unpkg.com/leaflet@1.3.1/dist/leaflet.css')
        //- link(rel='stylesheet', href='/stylesheets/themes/health/marker_cluster_modified.css')
        link(rel='stylesheet', href='/stylesheets/tools/tools-statbank.css')
        //- link(rel='stylesheet', href='/stylesheets/tools/dc-tools.css')
        //- link(rel='stylesheet', href='https://cdn.jsdelivr.net/npm/leaflet.locatecontrol/dist/L.Control.Locate.min.css')
        //- link(rel='stylesheet', href='/stylesheets/lib/L.Control.Locate.modified.css')
        //- link(rel='stylesheet', href='https://rawgit.com/k4r573n/leaflet-control-osm-geocoder/master/Control.OSMGeocoder.css')
        //- link(rel='stylesheet', href='/stylesheets/lib/Control.OSMGeocoder.modified.css')
        //- link(rel='stylesheet', href='/stylesheets/tools/slider-switch.css')
        //- link(rel='stylesheet', href='/stylesheets/nouislider.css')
        //- link(rel='stylesheet', href='/stylesheets/spin.css')

block navigation
    //- +navbar("navbar navbar-expand-lg navbar-dark bg-dark fixed-top","/","Dublin Dashboard","Tools")
    +bcd-navbar("bcd-navbar","/","Dublin Dashboard", "Tools")

block content
      .tool-container
        header.header.mt-5.pt-2
        .row
            .col-md-12
                h1.header__h1 CSO Statbank Tool
                p.lead Quid te incididunt aut fugiat, mandaremus non malis arbitror, export nescius 
                  |despicationes et id labore veniam quem occaecat, voluptate tempor mentitum, 
                  |doctrina quorum incididunt.
            
        .row.mt-1
            .col-sm-3.p-1
                p
                  select#table-code-dropdown
                    option Choose a Statbank table code
            .col-sm-9.p-1
                
                //- <input id='statbank-search'type="text" placeholder="Search for a keyword">
                form(class="")
                    //- input(class="search-box__input" type="text" id="userinput" onkeyup="searchSite()" placeholder="Search" aria-label="Search")
                    input(class="" type="text" id="statbank-search-input" placeholder="Search keywords" aria-label="Search")
                    #statbank-suggestions
            //- .col-sm-2.p-1
                p
                  <button id="get-all-metadata" type="button" class="btn btn-bcd btn-sm"> Refresh all metadata</button>
                  
            
                    
        .row.mt-1
            .col-sm-12.p-5#statbank-results-raw
                //- p    Data will appear here
                //- .col-md-8
                //-   #statbank-loading.mt-2 
                //- .col-md-12
                //-   #statbank-test-text.mt-2
                //-   #statbank-test-datalist.mt-2

block append scripts
    //- script(src="/lib/proj4.js" type="text/javascript")
    //- script(src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js")
    //- script(src="/lib/leaflet-osm-master/leaflet-osm.js" type="text/javascript")
    //- script(src="/lib/L.Control.Locate.modified.js" type="text/javascript")
    //- //- script(src="https://rawgit.com/k4r573n/leaflet-control-osm-geocoder/master/Control.OSMGeocoder.js" type="text/javascript")
    //- script(src="/lib/Control.OSMGeocoder.modified.js" type="text/javascript")    
    //- script(src="https://d3js.org/d3.v5.js" type="text/javascript")
    //- script(src="https://cdn.plot.ly/plotly-latest.min.js" type="text/javascript")
    //- //- //    script(src="spin/dist/spin.min.js")
    //- //- //    script(src="leaflet.spin.min.js")
    //- script(src="/javascripts/charts/plotly/plotly_config_tools.js" type="text/javascript")  
    script(src='/lib/flexsearch.compact.js' type='text/javascript')
    script(src='/javascripts/statbank-autocomplete.js' type='text/javascript')
    script(src='/javascripts/tools/statbank.js' type='module')  
